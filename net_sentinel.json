{
  "isps": [
    {
      "id": 1,
      "name": "Google DNS",
      "ip": "8.8.8.8"
    },
    {
      "id": 2,
      "name": "Cloudflare DNS",
      "ip": "1.1.1.1"
    }
  ],
  "websites": [
    {
      "id": 3,
      "url": "https://ostrich.software/login",
      "direct_connect": true,
      "direct_connect_url": "http://10.0.2.151:3010"
    },
    {
      "id": 4,
      "url": "https://gameserver.dataforgedb.com/",
      "direct_connect": true,
      "direct_connect_url": "http://10.0.2.24/"
    },
    {
      "id": 6,
      "url": "https://www.riftboundatlas.com/",
      "direct_connect": true,
      "direct_connect_url": "http://10.0.2.17:3000"
    },
    {
      "id": 8,
      "url": "https://itemra.dataforgedb.com",
      "direct_connect": false,
      "direct_connect_url": null
    }
  ],
  "game_servers": [
    {
      "id": 7,
      "name": "Riftbound Atlas",
      "address": "10.0.2.27",
      "port": 26000,
      "protocol": "TCP",
      "timeout_ms": 2000,
      "pseudo_code": "PACKET_START\nWRITE_VARINT PACKET_LEN\nWRITE_VARINT 0x00\nWRITE_VARINT 0x47\nWRITE_VARINT IP_LEN_HEX               # Length of \"10.0.2.27\"\nWRITE_STRING_LEN \"IP\" HOST_LEN\nWRITE_SHORT_BE PORT\nWRITE_VARINT 0x01\nPACKET_END\n\nPACKET_START\nWRITE_VARINT 0x01\nWRITE_VARINT 0x00\nPACKET_END\n\nRESPONSE_START\nREAD_VARINT LENGTH_VARINT\nREAD_VARINT PACKET_ID\nREAD_VARINT JSON_LENGTH_VARINT\nREAD_STRING_NULL JSON_PAYLOAD\nRESPONSE_END\n\nOUTPUT_SUCCESS\nJSON_OUTPUT JSON_PAYLOAD\nRETURN \"protocol=JSON_PAYLOAD.version.protocol, player_max=JSON_PAYLOAD.players.max, player_count=JSON_PAYLOAD.players.online\"\nOUTPUT_END\n\nOUTPUT_ERROR\nRETURN \"server='HOST', error=ERROR\"\nOUTPUT_END"
    },
    {
      "id": 9,
      "name": "Riftbound Atlas Stats",
      "address": "10.0.2.27",
      "port": 20000,
      "protocol": "TCP",
      "timeout_ms": 2000,
      "pseudo_code": "PACKET_START\nWRITE_INT PACKET_LEN\nWRITE_INT 1              // REQUEST_ID (pick any positive int)\nWRITE_INT 3              // AUTH\nWRITE_STRING_LEN \"ryUVqyt92MsJANnl3KAYcluppzwqVBLP\" 32\nWRITE_BYTE 0\nWRITE_BYTE 0\nPACKET_END\n\nRESPONSE_START\nREAD_INT RESPONSE_LEN_AUTH\nREAD_INT RESPONSE_ID_AUTH\nREAD_INT RESPONSE_TYPE_AUTH\nREAD_STRING_NULL COMMAND_OUT_AUTH\nRESPONSE_END\n\nPACKET_START\nWRITE_INT PACKET_LEN\nWRITE_INT 2\nWRITE_INT 2\nWRITE_STRING_LEN \"mspt\" 4\nWRITE_BYTE 0\nWRITE_BYTE 0\nPACKET_END\n\nRESPONSE_START\nREAD_INT RESPONSE_LEN\nREAD_INT RESPONSE_ID\nREAD_INT RESPONSE_TYPE\nREAD_STRING_NULL COMMAND_OUT\nRESPONSE_END\n\n# Parse TabTPS output\nCODE_START\nSTRING output = COMMAND_OUT\n\n# Extract TPS: Split by \"TPS: \" then by \" (\"\nARRAY tps_split1 = SPLIT(output, \"TPS: \")\nSTRING tps_section = tps_split1[1]\nARRAY tps_split2 = SPLIT(tps_section, \" (\")\nSTRING tps_str = tps_split2[0]\nFLOAT tps_fs_out = tps_str\nARRAY tps_split3 = SPLIT(tps_split2[1], \",\")\nFLOAT tps_om_out = REPLACE(tps_split3[1], \" \", \"\")\nARRAY tps_split4 = SPLIT(tps_split2[2], \",\")\nFLOAT tps_fm_out = REPLACE(tps_split4[1], \" \", \"\")\nARRAY tps_split5 = SPLIT(tps_split2[3], \",\")\nFLOAT tps_ftm_out = REPLACE(tps_split5[1], \" \", \"\")\n \n# Extract MSPT: Find \"├─ 5s - \" line\nARRAY mspt_lines = SPLIT(output, \"├─\")\nSTRING mspt_line = \"\"\nFOR line IN mspt_lines:\n  IF line CONTAINS \"5s - \":\n    mspt_line = line\n    BREAK\n \n# Extract MSPT values from the line\nARRAY mspt_split1 = SPLIT(mspt_line, \"5s - \")\nSTRING mspt_values_str = mspt_split1[1]\nARRAY mspt_array = SPLIT(mspt_values_str, \",\")\n# Clean whitespace and parse (may need TRIM function)\nFLOAT mspt_ave_out = mspt_array[0]\nFLOAT mspt_min_out = mspt_array[1]\nFLOAT mspt_max_out = mspt_array[2]\n\n# Extract CPU: Split by \"CPU: \" then by \",\"\nARRAY cpu_split1 = SPLIT(output, \"CPU: \")\nSTRING cpu_section = cpu_split1[1]\nARRAY cpu_split2 = SPLIT(cpu_section, ',')\n\n# Remove % signs\nSTRING cpu_sys_str = REPLACE(cpu_split2[0], \"%\", \"\")\nSTRING cpu_proc_str = REPLACE(cpu_split2[1], \"% (sys.\", \"\")\nFLOAT cpu_sys_out = cpu_sys_str\nFLOAT cpu_proc_out = cpu_proc_str\n\n# Extract Memory: Split by \"RAM: \" then by \"/\" then by \" \"\nARRAY mem_split1 = SPLIT(output, \"RAM: \")\nSTRING mem_section = mem_split1[1]\nARRAY mem_split2 = SPLIT(mem_section, \"/\")\nSTRING mem_used_str = REPLACE(mem_split2[0], \"M\", \"\")  # \"928M\"\nSTRING mem_stack_section = mem_split2[1]  # \"1120M (max. 10240M)\"\nINT mem_used_out = mem_used_str\n\nARRAY mem_stack_split = SPLIT(mem_stack_section, ' ')\nSTRING mem_stack_str = REPLACE(mem_stack_split[0], 'M', '')  # \"1120M\"\nSTRING mem_max_str = REPLACE(mem_stack_split[2], 'M)[|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||]', '')  # \"10240M)\"\nINT mem_stack_out = mem_stack_str\nINT mem_max_out = mem_max_str\nCODE_END\n\nOUTPUT_SUCCESS\nRETURN \"mem_max=mem_max_out, mem_stack=mem_stack_out, mem_used=mem_used_out, cpu_sys=cpu_sys_out, cpu_proc=cpu_proc_out, mspt_ave=mspt_ave_out, mspt_min=mspt_min_out, mspt_max=mspt_max_out, tps=tps_fs_out, tps_one_min=tps_om_out, tps_five_min=tps_fm_out, tps_fifteen_min=tps_ftm_out\"\nOUTPUT_END\n\nOUTPUT_ERROR\nRETURN \"server='HOST', error=ERROR\"\nOUTPUT_END"
    }
  ]
}